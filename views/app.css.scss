$colorWhite:  #FFFFFF;
$colorLight:  #FAFAFA;
$colorNormal: #D1D1D1;
$colorDark:   #9B9B9B;
$colorBlack:  #4A4A4A;

$cardWidth: 50vh;
$cardHeight: 90vh;
$coverWidth: $cardWidth;
$coverHeight: $cardWidth / 2;

$animation-time: 0.3s;

@mixin flexible($justify-content) {
  display: -webkit-flex;
  display:  -ms-flexbox;
  display:     -moz-box;
  display:         flex;
  -webkit-align-items: center;
    -webkit-box-align: center;
       -ms-flex-align: center;
          align-items: center;
  -webkit-justify-content: $justify-content;
     -moz-justify-content: $justify-content;
      -ms-justify-content: $justify-content;
          justify-content: $justify-content;
}

* {
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
}

body {
  @include flexible(center);
  font-family: 'Roboto', sans-serif;
  font-weight: 300;
  background-color: $colorLight;
}

#card {
  position: relative;
  width: $cardWidth;
  height: $cardHeight;
  overflow: hidden;

  background-color: $colorWhite;
  color: $colorBlack;
  border-radius: 0.6vh;
  box-shadow: 2vh 3vh 17vh -4vh rgba(0,0,0,0.40);
}

#cover {
  position: absolute;
  top: 0;
  right: 0;
  width: $coverWidth;
  height: $coverHeight;
  overflow: hidden;
  //filter: drop-shadow(0 0 0.5vh darken($colorBlack, 20%));
  box-shadow: 0px 3px 0px rgba(255, 255, 255, 0.25) inset, 0px 3px 6px rgba(0, 0, 0, 0.2);

  .image {
    object-fit: cover;
    width: $coverWidth;
    height: $coverHeight;
  }
}

header {
  padding-top: $coverHeight;
  text-transform: uppercase;
  text-align: center;

  .person__job {
    margin-top: 5vh;
    margin-bottom: 2.5vh;
    font-size: 2.5vh;
    color: $colorDark;

    &:before,
    &:after {
      content: "\2014";
      margin: 0.5em;
    }
  }

  .person__name {
    margin-top: 2.5vh;
    margin-bottom: 2.5vh;
    font-size: 5vh;
    color: $colorBlack;
    font-weight: 300;
  }
}

#socials {
  width: 50%;
  margin: 0 auto;
  font-size: 3vh;

  ul {
    @include flexible(space-between);
    padding: 0;
    margin: 0;
    list-style: none;
  }

  a {
    display: inline-block;
    width: 5vh;
    height: 5vh;
    line-height: 5vh;
    text-align: center;

    text-decoration: none;
    color: $colorBlack;
    border-radius: 50%;

    transition: all $animation-time ease;
    transition-delay: 0;

    &:hover {
      background-color: $colorBlack;
      color: $colorWhite;
    }
  }

  .label {
    display: none;
  }

  .icon {
    display: inline-block;
    font-family: FontAwesome;
    font-style: normal;
    font-weight: normal;
    &.twitter::before { font-size: 3vh; content: ""; }
    &.github::before  { font-size: 3vh; content: ""; }
    &.mail::before    { font-size: 2.5vh; content: ""; }
    &.xing::before    { font-size: 2.5vh; content: ""; }
  }
}

#introduction {
  .introduction__text {
    width: 50%;
    margin: 4vh auto;
    padding: 3vh 0 4vh 0;
    border-color: $colorNormal;
    border-style: double;
    border-width: medium 0;
    text-align: center;
    line-height: 5vh;
    overflow: hidden;

    height: 15vh;
    transition: all $animation-time ease;
    transition-delay: 0;
  }
  .introduction__text--hamburg  { font-size: 2.05vh; }
  .introduction__text--software { font-size: 2.15vh; }
  .introduction__text--happy    { font-size: 3.45vh; }

  .introduction__more {
    display: block;
    width: 15vh;
    margin: 0 auto;
    padding: 1vh;

    border: 2px solid $colorDark;
    border-radius: 0.3vh;

    font-size: 2vh;
    font-weight: 400;
    text-decoration: none;
    text-align: center;
    color: $colorDark;

    transition: all $animation-time ease;
    transition-delay: 0;

    &:hover {
      background-color: $colorDark;
      color: $colorWhite;
    }
  }
}

#description {
  display: none;

  background-color: green;
  // height: 50%;
  border-top: 2px solid red;
  border-bottom: 2px solid red;
}

/*
#card.show-description {
  // animate a circle in the top right corner
  #cover {
    top: 2vh;
    right: 2vh;
    width: 6vh;
    height: 6vh;
    border-radius: 3vh;

    // resize the image to fit in the circle
    .image {
      width: 7vh;
      height: 7vh;
    }
  }

  header {
    padding-top: 0;
  }

  #introduction .introduction__text {
    padding: 0;
    height: 0;
  }
}
*/


/*
.show-description {
  animation-name: foobar;
  animation-duration: 1s;
  animation-fill-mode: both;
  animation-iteration-count: 1;
  animation-direction: normal;
}
@keyframes foobar {
  from { background-color: red; }
  to { background-color: green; }
}
*/

#card.show-introduction {
  animation: goGreenRed 1s;
  animation-fill-mode: backwards;
}

#card.show-description {
  animation: goRedGreen 1s;
  animation-fill-mode: forwards;
}

@keyframes goGreenRed {
  from { background-color: green; }
  to   { background-color: red; }
}

@keyframes goRedGreen {
  from { background-color: red; }
  to   { background-color: green; }
}



.card--introduction {
  #cover {
    animation: coverToCircle $animation-time forwards;
  }
  .image {
    animation: imageToCircle $animation-time forwards;
  }

  header {
    animation: headerToTop $animation-time forwards $animation-time;
  }
}

.card--description {
  #cover {
    animation: circleToCover $animation-time backwards $animation-time;
  }
  .image {
    animation: circleToImage $animation-time backwards $animation-time;
  }
  header {
    animation: headerToBottom $animation-time backwards;
  }
}


// move the cover to a circle in the top right corner
@keyframes coverToCircle {
  from {
    top: 0;
    right: 0;
    width: $coverWidth;
    height: $coverHeight;
    border-radius: none;
  }
  to   {
    top: 2vh;
    right: 2vh;
    width: 6vh;
    height: 6vh;
    border-radius: 3vh;
  }
}
@keyframes circleToCover {
  from {
    top: 2vh;
    right: 2vh;
    width: 6vh;
    height: 6vh;
    border-radius: 3vh;
  }
  to   {
    top: 0;
    right: 0;
    width: $coverWidth;
    height: $coverHeight;
    border-radius: none;
  }
}

// resize the image to fit in the circle
@keyframes imageToCircle {
  from {
    width: $coverWidth;
    height: $coverHeight;
  }
  to   {
    width: 7vh;
    height: 7vh;
  }
}
@keyframes circleToImage {
  from {
    width: 7vh;
    height: 7vh;
  }
  to   {
    width: $coverWidth;
    height: $coverHeight;
  }
}

// move the header up
@keyframes headerToTop {
  from {
    padding-top: $coverHeight;
  }
  to   {
    padding-top: 0;
  }
}
@keyframes headerToBottom {
  from {
    padding-top: 0;
  }
  to   {
    padding-top: $coverHeight;
  }
}


// fullscreen card
@media (max-aspect-ratio: 3/4) {
  #card {
    width: 100%;
    height: 100%;
    border-radius: 0;
  }

  #cover {
    width: 100%;

    .image {
      width: 100%;
    }
  }

}



